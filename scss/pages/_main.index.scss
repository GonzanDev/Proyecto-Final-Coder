/* scss/layouts/_index.scss */

@use "../utils/variables" as *;
@use "sass:color";

// =========================================================
// ESTILOS GLOBALES DE VIDEO A PANTALLA COMPLETA
// =========================================================
.home-page {
  height: 100%;
  margin: 0;
  padding: 0;
  overflow-x: hidden;

  // Contenedor del video fijo en el fondo
  .hero-video-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100dvh; // Usamos 100dvh para cubrir toda la altura visible en móviles
    z-index: -10;

    video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      // Oscurece y desatura el video para mejorar el contraste
      filter: brightness(0.6) grayscale(30%);
    }
  }

  // Overlay de difuminado
  .video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;

    // Degradado para difuminar al color de fondo ($color-dark) en los bordes
    background: linear-gradient(
      to top,
      $color-dark 0%,
      transparent 15%,
      transparent 85%,
      $color-dark 100%
    );
    z-index: 1;
  }

  // =========================================================
  // HEADER, MAIN Y FOOTER: TRANSPARENTES Y SOBRE EL VIDEO
  // =========================================================
  header,
  footer {
    position: relative;
    z-index: 10;
    // CAMBIO CLAVE: Hacemos el fondo transparente
    background-color: transparent !important;
  }

  // Aseguramos que el texto del header tenga buen contraste
  header {
    .menu ul li a {
      text-shadow: 0 0 5px rgba(0, 0, 0, 0.8); // Añade una pequeña sombra al texto para contraste
    }
  }

  main {
    position: relative;
    min-height: 84.5vh;
    display: flex;
    justify-content: center;
    align-items: center; // Centrar el contenido de .inicio-hero
    padding: 0;
    background-color: transparent; // Permitir ver el video
  }

  // =========================================================
  // SECCIÓN DE TEXTO FLOTANTE Y HOVER
  // =========================================================

  .inicio-hero {
    // Es el contenedor que limita el tamaño del texto
    width: 90%;
    max-width: 800px;
    padding: 40px;
  }

  .texto-hero-box {
    // Este contenedor gestiona la transición y el estado de la tarjeta
    background-color: rgba($color-dark, 0.55); // Fondo semitransparente oscuro
    color: $color-light;
    padding: 30px;
    border: 4px solid $color-primary; // Borde primario

    transition: transform 0.5s ease-in-out, box-shadow 0.5s ease-in-out,
      border-color 0.5s;

    // Estado base (inclinado, con sombra sutil)
    transform: skewX(-1.5deg) scale(1);
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.6);

    // Hacemos que el contenido interno compense la inclinación
    .texto-inicio {
      transform: skewX(1.5deg); // Compensación
    }

    // --- EFECTO HOVER ---
    &:hover {
      border-color: $color-accent; // Borde cambia a color secundario
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.8); // Sombra más fuerte
      transform: skewX(0deg) scale(1.05); // Se endereza y agranda ligeramente

      .texto-inicio {
        transform: skewX(0deg); // El contenido se endereza
      }
    }
  }

  // ---------------------------------------------------------
  // ESTILOS DE TIPOGRAFÍA (Se mantienen y adaptan)
  // ---------------------------------------------------------

  .texto-inicio {
    h1 {
      font-family: $font-title;
      font-size: 4.8rem;
      line-height: 0.9;
      text-transform: uppercase;
      margin-bottom: 20px;
      color: $color-light;

      span.highlight-title {
        background: $color-primary;
        color: $color-dark;
        padding: 5px 15px;
        display: inline-block;
        margin-bottom: 5px;
        transform: skewX(-5deg);
        transform-origin: bottom left;
      }
    }
  }

  .texto-inicio p {
    font-family: $font-body;
    font-size: 1rem;
    font-weight: 500;
    line-height: 1.6;
    color: color.adjust($color-gray, $lightness: 10%);
    margin-bottom: 0; // Quitar margen si es el último elemento
  }
}

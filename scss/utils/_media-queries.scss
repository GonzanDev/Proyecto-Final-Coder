/* scss/utils/_media-queries.scss */

@use "../utils/variables" as *;

// =========================================================
// BREAKPOINT 1: TABLETS Y MÓVILES GRANDES (Hasta 768px)
// =========================================================
@media screen and (max-width: 768px) {
  /* ======================================================= */
  /* ============== HEADER Y NAVEGACIÓN MÓVIL ============== */
  /* ======================================================= */
  header {
    position: relative;
    display: flex;
    align-items: center;
    padding: 10px 20px;
    box-sizing: border-box;
    background-color: $color-dark;
    margin-bottom: -1px;

    label[for="btn_menu"] {
      display: block;
      order: 1;
      cursor: pointer;
      img {
        width: 40px;
      }
    }

    .logo-central {
      order: 2;
      flex-grow: 1;
      img.logo {
        width: 40px;
        display: block;
      }
    }

    nav.menu {
      position: absolute;
      top: 80px;
      left: 0;
      width: 100%;
      z-index: 100;
      background-color: rgba(15, 15, 15, 0.7);
      backdrop-filter: blur(10px);
      max-height: 0;
      opacity: 0;
      overflow: hidden;
      visibility: hidden;
      transition: max-height 0.4s ease-out, opacity 0.3s ease-out,
        visibility 0.4s ease-out;

      ul {
        flex-direction: column;
        align-items: center;
        padding: 20px 0;
        li {
          margin: 10px 0;
          a {
            font-size: 1.2rem;
          }
        }
      }
    }

    #btn_menu:checked ~ nav.menu {
      max-height: 400px;
      opacity: 1;
      visibility: visible;
    }
  }

  /* ======================================================= */
  /* ============== PÁGINA DE INICIO (HOME) ================ */
  /* ======================================================= */
  .home-page main {
    padding: 20px;
    min-height: calc(100vh - 160px);
  }

  .home-page .texto-hero-box {
    transform: none;
    padding: 25px;
    .texto-inicio {
      transform: none;
    }
    &:hover {
      transform: scale(1.02);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.6);
    }
  }

  .home-page .texto-inicio h1 {
    font-size: 3.5rem;
    span.highlight-title {
      padding: 4px 12px;
      transform: skewX(-3deg);
    }
  }

  .home-page .texto-inicio p {
    font-size: 0.95rem;
  }

  /* ======================================================= */
  /* ================ PÁGINA DE HISTORIA =================== */
  /* ======================================================= */
  .historia {
    .historia-intro-section,
    .legado-content {
      flex-direction: column;
      gap: 30px;
      .texto-intro,
      .texto-legado {
        text-align: left;
        width: 90%;
      }
    }

    .historia-intro-section .imagen-intro,
    .historia-legado .imagen-legado {
      width: 100%;
      max-width: 500px;
    }

    .historia-galeria {
      height: auto;
      position: static;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 30px;
      margin-bottom: 80px;
      padding: 0 10%;
      .galeria-item {
        width: 100%;
        max-width: 350px;
        height: auto;
        border-color: $color-accent;
        &::before {
          display: none;
        }
      }
      .item-shirt {
        transform: rotate(-8deg);
        align-self: flex-start;
        width: 90%;
      }
      .item-indio {
        transform: rotate(2deg);
        z-index: 2;
        width: 100%;
      }
      .item-skay {
        transform: rotate(8deg);
        align-self: flex-end;
        width: 90%;
      }
    }

    .legado-header {
      align-self: center;
      margin-left: 0;
      margin-bottom: 20px;
    }
  }

  /* ======================================================= */
  /* ================ PÁGINA DE CONCIERTOS ================= */
  /* ======================================================= */

  .conciertos {
    // 1. Reducimos el padding superior para acercar el título al header.
    padding-top: 30px;

    .conciertos-header {
      h1 {
        flex-direction: column; // Mantenemos el apilado vertical.
        gap: 5px; // Un pequeño espacio entre las palabras.

        // 2. Centramos los elementos del título horizontalmente.
        align-items: center;
      }
      p {
        font-size: 1.2rem;
      }
    }

    // --- La grilla de conciertos ---
    .conciertos-grid {
      // 1. ¡La clave! Convertimos la grilla a una sola columna.
      grid-template-columns: 1fr;
      gap: 50px; // Espacio vertical entre las tarjetas

      // 2. Quitamos el margen que desfasaba la tarjeta del medio.
      .concierto-card:nth-child(2) {
        margin-top: 0;
      }
    }

    // --- Las tarjetas ---
    .concierto-card {
      // 3. Simplificamos el efecto hover para que funcione mejor en táctil.
      &:hover {
        transform: scale(1.02); // Solo un pequeño zoom al tocar.
      }
    }
  }

  /* ======================================================= */
  /* ============== PÁGINAS DE DISCOS ============== */
  /* ======================================================= */
  .discos {
    // Estilos específicos para el título de la página de discos
    padding-left: 15px;
    padding-right: 15px;
    .discos-header {
      margin: 40px 0;
      padding: 0 10px;
    }
  }

  .discos {
    // Reglas compartidas para las tarjetas
    .album-card {
      flex-direction: column;
      text-align: left;
      margin-bottom: 40px;
      padding: 25px;
      gap: 30px;

      .album-image {
        max-width: 100%;
        margin: 0;
        img {
          box-shadow: 0 0 0 4px $color-dark, 0 0 0 8px $color-accent;
        }
      }

      .album-info {
        padding: 0;
        width: 100%;
        text-align: left;
        h2 {
          color: $color-accent !important;
          font-size: 2rem;
        }
        p {
          text-align: left;
        }
        .spotify-link {
          display: inline-block;
          margin: 15px 0 0 0;
        }
      }
    }
  }

  /* ======================================================= */
  /* ================ PÁGINA DE INTEGRANTES ================ */
  /* ======================================================= */
  /* ======================================================= */
  /* ================ PÁGINA DE INTEGRANTES ================ */
  /* ======================================================= */
  .integrantes {
    padding: 50px 15px;

    .integrantes-grid {
      // Tu grid con auto-fit ya es responsive. En pantallas chicas,
      // automáticamente pasará a una columna y se centrará.
      // Solo ajustamos los espacios para que se vea mejor.
      gap: 50px;
      padding: 0 10px;
    }

    // Simplificamos el hover para una mejor experiencia táctil
    .miembro-card:hover {
      transform: translateY(-10px) !important; // Solo levantamos la tarjeta

      .info-content {
        transform: none !important; // Quitamos transformaciones internas
        img {
          transform: scale(1.03) !important; // Solo un zoom sutil
        }
      }
    }
  }
} // <-- FIN DEL BREAKPOINT PRINCIPAL

// =========================================================
// BREAKPOINT 2: MÓVILES PEQUEÑOS (Hasta 480px)
// =========================================================
@media screen and (max-width: 480px) {
  /* ======================================================= */
  /* ======== AJUSTES FINOS PARA MÓVILES PEQUEÑOS ========== */
  /* ======================================================= */
  .home-page .texto-hero-box {
    padding: 20px;
    border-width: 3px;
  }

  .home-page .texto-inicio h1 {
    font-size: 2.8rem;
    line-height: 1;
    span.highlight-title {
      padding: 3px 10px;
    }
  }
}
